# Complete protobuf generation configuration (Go + C++ + TypeScript)
# Used for local development with `buf generate`
# Requires node_modules installed in webserver/web/
# For Docker builds (backend only), see buf.gen.backend.yaml

version: v2
managed:
  enabled: false
plugins:
  - local: protoc-gen-go
    out: proto/gen
    opt: paths=source_relative
  - local: protoc-gen-go-grpc
    out: proto/gen
    opt: paths=source_relative
  - local: protoc-gen-connect-go
    out: proto/gen
    opt: paths=source_relative
  - local: webserver/web/node_modules/.bin/protoc-gen-es
    out: webserver/web/src/gen
    opt:
      - target=ts
  - local: webserver/web/node_modules/.bin/protoc-gen-connect-es
    out: webserver/web/src/gen
    opt:
      - target=ts
inputs:
  - directory: proto
