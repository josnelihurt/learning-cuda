environment: "production"

server:
  http_port: "0.0.0.0:8080"
  https_port: "0.0.0.0:8443"
  hot_reload_enabled: false
  web_root_path: "/app/web"
  tls:
    enabled: false

stream:
  transport_format: "json"
  websocket_endpoint: "/ws"

features:
  use_binary_protocol: false
  enable_grpc_streaming: false
  enable_observability: true
  stream.transport_format: "json"
  stream.websocket_endpoint: ""

flipt:
  enabled: true
  url: "http://flipt:8080"
  namespace: "default"
  db_path: "/var/opt/flipt/flipt.db"
  client_timeout: "30s"
  update_interval: "30s"
  http_timeout: "10s"

observability:
  service_name: "cuda-image-processor"
  service_version: "1.0.0"
  otel_collector_endpoint: "otel-collector:4317"
  trace_sampling_rate: 1.0

logging:
  level: "info"
  format: "json"
  output: "file"
  file_path: "/tmp/goserver.log"
  include_caller: true

processor:
  library_base_path: "/app/lib"
  default_library: "2.1.6"
  enable_hot_reload: false
  fallback_enabled: false
  fallback_chain:
    - "2.1.6"

static_images:
  directory: "/app/data/static_images"

tools:
  observability:
    - id: "jaeger"
      name: "Jaeger Tracing"
      icon_path: "/static/img/tools/jaeger.svg"
      type: "url"
      url_dev: "http://localhost:16686"
      url_prod: "https://jaeger-cuda-demo.josnelihurt.me"
    - id: "grafana_logs"
      name: "Logs Dashboard"
      icon_path: "/static/img/tools/grafana.svg"
      type: "url"
      url_dev: "http://localhost:3001/d/cuda-multi-layer-logs"
      url_prod: "https://grafana-cuda-demo.josnelihurt.me/d/cuda-multi-layer-logs"
    - id: "grafana_explore"
      name: "Grafana Explore"
      icon_path: "/static/img/tools/grafana.svg"
      type: "url"
      url_dev: "http://localhost:3001/explore"
      url_prod: "https://grafana-cuda-demo.josnelihurt.me/explore"
  features:
    - id: "flipt"
      name: "Flipt Feature Flags"
      icon_path: "/static/img/tools/flipt.svg"
      type: "url"
      url_dev: "http://localhost:8081"
      url_prod: "https://flipt-cuda-demo.josnelihurt.me"
    - id: "sync_flags"
      name: "Sync Feature Flags"
      icon_path: ""
      type: "action"
      action: "sync_flags"
  testing:
    - id: "bdd_reports"
      name: "Test Reports (BDD)"
      icon_path: ""
      type: "url"
      url_dev: "http://localhost:5050"
      url_prod: "https://reports-cuda-demo.josnelihurt.me"
    - id: "e2e_reports"
      name: "E2E Test Results (Playwright)"
      icon_path: "/static/img/tools/playwright.svg"
      type: "url"
      url_dev: "http://localhost:5051"
      url_prod: "https://reports-cuda-demo.josnelihurt.me/e2e"
    - id: "coverage_reports"
      name: "Code Coverage"
      icon_path: ""
      type: "url"
      url_dev: "http://localhost:5052"
      url_prod: "https://reports-cuda-demo.josnelihurt.me/coverage"